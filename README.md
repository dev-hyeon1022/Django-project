# 🖥️ Foreign-Us

<h1>한국인과 외국인 사이의 도움 공유 서비스 - '폴인어스'</h1>
<h2>🕰️ 개발 기간</h2>
* 23.07.31 - 23.09.01<br><br>
<h2>🧑‍🤝‍🧑 맴버구성</h2>
 - 팀장 : 장동혁<br>
 - 부팀장 : 임희수<br>
 - 팀원 : 임수현<br><br>
<h2>✨ 기획 배경 및 기대 효과</h2>
<img src="https://github.com/ss00-coder/study-django/assets/129861795/1de2a62a-2ca9-4eb9-8ad6-49d8b4818f89">
Foreign-Us는 한국 내에서 다양한 국적과 문화를 가진 사람들 간의 상호 작용과 소통을 촉진하려는 의지에서 시작했습니다. 현대 사회에서 글로벌화와 다문화주의가 중요한 역할을 하고 있으며, 이에 따라 언어와 문화적인 이해가 필수적입니다. 한국에는 다양한 국적의 외국인들이 살고 있으며, 그들은 한국에서 생활하면서 언어와 문화 차이로 인해 불편함을 겪는 경우가 많습니다. 이는 언어적인 소통에서부터 일상 생활에서의 문제까지 다양한 형태로 나타납니다. Foreign-Us는 이러한 불편함을 해소하고, 한국과 다양한 국가와 문화를 가진 사람들 간의 상호 이해를 촉진하고자 합니다. 또한, 언어와 문화를 공유하고 배우며 다른 문화를 경험하는 것이 인간 간의 연결과 이해를 높일 수 있다고 생각합니다. 이러한 환경에서 더 열린 사고와 다문화적인 사회를 형성하고, 긍정적인 사회적 변화를 이끌어내기 위한 노력을 기반으로 사이트를 기획하게 되었습니다.

<br><br>

<h2>✨ 제공 서비스</h2>
<img src="https://github.com/ss00-coder/study-django/assets/129861795/9c90091f-8527-478b-ab5a-d80914948e5f">
📌 과외 매칭: 이 서비스는 회원들 간의 언어 교환 및 과외 매칭을 제공합니다. 평소 배우고 싶었던 언어를 습득하거나 잘 알고 있는 언어를 가르쳐즐 수 있는 기회를 가집니다. 이를 통해 상호 언어 습득과 문화 교류가 이루어지며, 서로 다른 언어와 문화에 대한 이해도가 높아집니다. <br><br>

📌 헬퍼스: 헬퍼스 서비스는 외국인들이 겪는 다양한 문제와 어려움을 해결하는데 도움을 주고 받을 수 있는 플랫폼을 제공합니다. 도움을 필요로 하는 회원들에게 지원을 제공하고, 도움을 받은 회원들은 자신의 언어 및 문화에 대한 지식을 공유하며 도움을 받을 수 있습니다. 이후에 호스팅을 통해 자신의 집으로 초대하는 등의 추가 문화 교류로도 이어질 수 있습니다. <br>

📌 이벤트: 다양한 국적과 문화를 가진 사람들을 모아 문화 체험 이벤트를 주최합니다. 이를 통해 참가자들은 다른 문화를 직접 체험하고, 국제적인 이해와 친목을 증진시킬 수 있습니다. 이벤트는 다문화적인 사회에서의 상호 이해와 소통을 높이는 역할을 합니다.<br>

이러한 서비스들은 다양한 국적과 문화를 가진 사람들 간의 소통과 상호 협력을 촉진하며, 언어 및 문화적 이해를 증진시켜 다문화 공존을 지원하는데 중요한 역할을 합니다. 이를 통해 보다 개방적이고 다문화적인 사회를 형성하고자 합니다.
<br><br>

<h2>⚙️ 개발 환경</h2>
- Python<br>
- django<br>
- jQuery<br>
- Java Script<br>
- MySQL<br>
- JSON<br>
- ORACLE<br>
- REST:API<br>
- Visual Studio Code<br>
- DBeaver<br>
- Sourcetree<br>
- git, github<br>
- Pycharm<br>
- POSTMAN<br>
- Bootpay<br>
- Kakao DEVELOPER API<br>
- Slack<br><br>

<h2>✨ 페이지 흐름도</h2>
<img src="https://github.com/ss00-coder/ss00-coder/assets/129861795/2f2177de-d03e-4af5-a1f2-0aad57a8720d">
<br><br>

<h2>✨ ERD</h2>
<img src="https://github.com/ss00-coder/study-django/assets/129861795/3d84b53b-a103-4ca5-b337-57e9e1c80fdf">
<br><br>
 
<h2>✨ 담당 업무</h2>
1. 프론트엔드<br>
<img src="https://raw.githubusercontent.com/dev-hyeon1022/dev-hyeon1022/master/%EA%B0%9C%EC%9D%B8%EC%9E%90%EB%A3%8C/foregin-us/img/foreign-us(%ED%8D%BC%EB%B8%94%EB%A6%AC%EC%8B%B1).png">

▶ 메인 페이지
- 헤더
- 푸터
- 슳라이드 배너
- 추천 이벤트

▶ 마이 페이지
- 내 페이지
- 과외 홍보
- 과외 후기
- 헬퍼스
- 이벤트
- 쪽지
- 결제내역
  
▶ 프로필 페이지
- 프로필 소개
- 과외 후기
- 작성글 이벤트/헬퍼스
- 호스팅
- 결제 선택

<br>
2. 백엔드<br>
<img src="https://raw.githubusercontent.com/dev-hyeon1022/dev-hyeon1022/master/%EA%B0%9C%EC%9D%B8%EC%9E%90%EB%A3%8C/foregin-us/img/foreign-us(%EB%B2%A1%EC%97%94%EB%93%9C).png">

▶ 로그인 페이지
- 카카오 로그인 및 회원 가입 구현
- 로그아웃 기능 구현
  
▶ 과외 홍보 게시판
- 게시글 최신순 목록 조회 구현
- 게시글 인기글 목록 조회 구현
- 게시글 과외 언어 목록 조회 구현
- 게시글 5개 단위로 조회하여 무한스크롤 구현

▶ 과외 홍보 상세보기
- 게시글 댓글 기능 구현
- 게시글 조회수 기능 구현
- 게시글 좋아요 기능 구현
- 게시글 쪽지 작성 페이지 이동 구현

▶ 과외 홍보 작성
- 게시글 파일첨부 기능 구현
- 게시글 언어 태그 기능 구현
- 게시글 기존 내용 수정 기능 구현
- 게시글 TinyMCE API 사용 하여 작성 기능 구현

▶ 쪽지 목록
- 받은 쪽지 목록 기능 구현
- 보낸 쪽지 목록 기능 구현
- 쪽지 검색: 쪽지 제목, 내용으로 검색 기능 구현
- 쪽지 삭제: 삭제버튼 선택시 해당 쪽지 삭제 기능 구현
- 쪽지 더보기: 해당 쪽지 클릭시 상세보기 페이지 이동

▶ 쪽지 상세보기
- 쪽지 작성자 정보 출력
- 쪽지 내용 및 파일첨부 출력

▶ 쪽지 작성
- 쪽지 TinyMCE API 사용 하여 작성 기능 구현
- 쪽지 파일첨부 및 이미지 미리보기 기능 구현

▶ 쪽지 알림
- 상단 헤더에 받은 쪽지 알림 표시 기능 구현

<br><br>

<h2>느낀점</h2>
<h3>6-1. 어려웠던 부분</h3>
<h4>📌 회원 등급 조회 시 참여수에 따른 비등가조인 쿼리문을 작성하는 게 어려웠다.</h4> <br>

<img src="https://github.com/dev-sein/dev-sein/assets/122762143/80b84e08-f718-4afc-a59b-75034fb4b34a"> <br>
<잘못된 코드><br>
member의 participationCount를 사용하여 grade의 gradeTitle을 조회하는 쿼리이다. 시행착오를 겪으며 어느정도 완성된 쿼리이나 계속해서 하단의 오류가 발생하였다. 그러나 내 코드에 대한 확신이 없어서 어느 부분을 수정해야할 지 찾아가는 것이 어려웠다. <br>

<img src="https://github.com/dev-sein/dev-sein/assets/122762143/c544ba9c-f1c6-4361-9948-97c3126e7ef9"> <br>
<오류 화면><br>
결과값은 memberId 마다 나와야 하기 때문에 무조건 하나의 값만 도출되어야 하는데(fetchOne) 결과값이 계속해서 여러개가 리턴되는 오류였다.<br> <br>
 
<img src="https://github.com/dev-sein/dev-sein/assets/122762143/43d76b4c-e12f-46d8-b581-1999b71fa97a"> <br>
<완성 코드><br>
 오류코드에서 where 절을 추가하면 쉽게 해결되는 코드였다. 그러나 문법에 대한 확신이 없어 헤매는 와중 마주친 오류에 원인을 찾기 어려웠다. 그래서 QueryDSL이 아닌 비등가조인 기본 예제들을 다시 한번 되짚어보며 빠진 부분을 찾고 해결했다. <br><br>
 
 ✔ JPA가 익숙하지 않은 상태에서 비등가조인을 작성하고자 할 때 문법 등 막막한 점이 있었다. 검색을 해보아도 <strong>QueryDSL 비등가조인</strong>에 대한 명확한 예제가 없어 직접 작성해가며 부딪히는 수밖에는 없었는데 제법 시간이 걸렸다. <strong>계속해서 주석을 달며 test를 해보는</strong> 수밖에는 없었다. 문제해결에 거의 다다랐을 때쯤에는 return 값을 계속 여러값을 불러와서 문제였는데, where 절에 memberId를 불러오지 않아 여러값을 불러왔었다. <strong>새로운 기술이라는 점을 의식하다보니, 기본적인 것을 놓친 것이다.</strong> 문제를 해결하고는 다소 허탈하긴 했으나, 구글의 도움 없이 내가 직접 새로운 기술을 적용시켰다는 점이 뿌듯했다. <br><br><br>

<h3>6-2. 문제를 해결했던 부분</h3>
<h4>📌Z-index로 해결한 카카오맵 슬라이드</h4>
🌩문제 상황🌩<br>
위도, 경도를 받아와 카카오맵 API를 사용하여 지도를 출력하는 코드에서 두 개 이상 지도를 불러올 경우 지도로 이동하는 화살표가 출력되지 않음.  <br><br>
🚨문제 원인🚨 <br>
z-index의 순서 문제 <br><br>
🚀해결 방법🚀<br>
어려울 수록 차근차근 확인해보는것이 방도임을 생각하며, 개발자모드에서 요소 하나하나를 선택해보았다. 카카오맵에서 자동으로 지정된 설정에는 지도가 가장 앞순위로 나와있었기 때문에 부가적으로 내가 설정해놓은 이미지 파일이 지도에 가려 이동이 어려웠다. 그래서 화살표에 별도로 z-index를 주어 화살표 클릭 시 지도가 출력될도록 하였다.

<br><br>

<h4>📌무조건 1페이지만! </h4>
🌩문제 상황🌩<br>
페이징 처리를 하였으나 페이지 항목의 어떠한 숫자를 눌러도 무조건 1페이지만 출력되었다.<br><br>
🚨문제 원인🚨 <br>
서비스 코드에서 page를 1로 지정해놓음.<br><br>
🚀해결 방법🚀<br>
테스트를 위해 test 파일에서 사용하던 코드를 그대로 사용하여 발생한 문제였다. 컨트롤러에서는 문제가 없었으나, 서비스 코드에서 무조건 1페이지로 출력되도록 하였기 때문에 어떤 버튼을 눌러도 1페이지만 출력되었다. 
<br><br>

<h3>5-4. 총평</h3>
<h4>🌟 기획: 유지·보수를 생각하자!  </h4>
저번 crossroads 프로젝트 때 느꼈던 점을 되짚어가며 빠진 부분이 없도록 세세하게 기획을 하였다. 수정 버튼, 뒤로 가기, 각 버튼을 눌렀을 때 모달 출력 등 사용자 편의성에 집중한 세세한 기능을 만들 수 있도록 하였다. 그렇게 진행하면 완성된 페이지를 만들 수 있을 거라고 생각했다. 그러나 직접 프로젝트를 진행하다보니, 주 게시판외 사용자의 편의를 위한 페이지 이동 등은 끝이 없다는 것을 깨닫게 되었다. '완성'하는 것이 아니라 계속해서 발전해나가고 수정하는 것이며, 왜 개발자들이 유지 보수를 위한 코드를 강조했는지 깨닫게 되었다.

 <h4>🌟 협업: <strong>프로젝트는 '내'가 아니라 '팀'이 하는 것</strong> </h4>
이번 프로젝트에서 특히나 느낀 점은 나의 작업도 중요하지만, 팀원들의 작업도 중요하다는 것이다. 관리자 게시판과 메인 게시판을 맡았기 때문에 다른 게시판의 진행률이 중요했다. 내가 이미 기능을 구현하더라도 게시판이 완성되지 않는다면 의미가 없으며 레이아웃 자체를 바꾸거나 기획을 변경해야 했기 때문이다. 또한 관리자 페이지였기 때문에 각각의 서비스에서 사용하는 메소드 이름이나 DTO 등 역시 중요하다는 것을 알게되었다. 코드를 공유하기 때문에 한쪽에서 보고 없이 변경을 하게 되면 상대방 코드에 영향을 미치며 오류가 발생하기 때문이다. 예를 들어 모집게시판에서 상세 내용을 불러오는 DTO 명이 변경된 적이 있었다. 그러나 그 사실이 공유되지 않아 관리자 페이지에서 모집 게시판의 이미지가 조회되지 않았다. 이런 오류 역시 사전에 상황 보고가 이루어졌다면 발생하지 않았을 것이기 때문에, 이런 일 이후로는 팀원 간 코드 변경에 대해 섬세하게 신경을 썼다. 나의 작업은 곧 다른 팀원에게 영향을 미친다는 점을 인지하게 되는 프로젝트였다. 
 
<h4>🌟 미래: 보완하는 개발자! </h4>
이번 프로젝트를 시작하며 세웠던 나의 목표는 '안 해본 것 해보기'였다. 지난 프로젝트에서는 회원가입이나 로그인, 게시글 작성 등 insert를 중심으로 진행했다면 이번엔 insert를 제외한 다른 기능들을 구현해보고 싶었다. 그래서 희망 파트를 정할 때 '관리자 페이지'를 지망하였고, 다행히 내가 맡아서 할 수 있었다.  저번 프로젝트에서 간단한 select 기능만 구현했었던 나는 페이징 처리와 검색을 하는데 있어 로직을 이해하지 못해 처음엔 난항을 겪었다. 그러나 구동되지 않는 코드를 붙잡고 이틀정도 씨름하다보니 input에서 입력한 값을 어떻게 받아오게 되는지 알게 되었다. 구동이 되지 않았던 이유는 아주 사소한 실수였지만, 어쩌면 내가 완벽하게 이해하지 못했기 때문에 실수가 발생했고, 그덕에 코드를 낱낱이 볼 수 있었다고 생각한다. 페이징처리와 검색, offset의 원리를 아예 몰랐으나 관리자 페이지가 갖게 되는 필연적인 반복적인 작업 덕분에 저번 프로젝트보다 성장했다고 느낀다. 이렇듯 나는 내가 미숙하거나 보완이 필요한 부분들을 계속해서 찾아낼 것이고, 직접 부딪혀가며 해결해내는 개발자가 될 것이다.
<br><br>
